<div>
    <div class="page-header">
        <h3>{{ 'tree.new_category' | translate }}</h3>
    </div>
    <form name="categoryForm" class="form-horizontal" ng-submit="saveCategory()">
        <div class="form-group" ng-class="{error : !categoryForm.name.$valid}">
            <label class="col-sm-2 control-label">{{ 'new_category.name' | translate }}</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="name" ng-model="cat.name" required />
                <span class="help-block" ng-show="!categoryForm.name.$valid">{{ 'global.required' | translate }}</span>
            </div>
        </div>
        <div class="form-group" ng-class="{error : !categoryForm.category.$valid}">
            <label class="col-sm-2 control-label">{{ 'new_category.parent' | translate }}</label>
            <div class="col-sm-10">
                <select
                    name="category"
                    ng-model="cat.parentId"
                    class="form-control"
                    ng-options="cat.id as cat.name for cat in CategoryService.flatCategories"
                    required
                ></select>
                <span class="help-block" ng-show="!categoryForm.category.$valid">{{ 'global.required' | translate }}</span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-primary ok" type="submit">{{ 'global.save' | translate }}</button>
                <button type="button" class="btn btn-default cancel" ng-click="back()">{{ 'global.cancel' | translate }}</button>
            </div>
        </div>
    </form>
</div>
